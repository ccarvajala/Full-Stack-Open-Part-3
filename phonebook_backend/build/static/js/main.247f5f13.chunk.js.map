{"version":3,"sources":["Person.js","Filter.js","PersonForm.js","Communication.js","Notification.js","App.js","index.js"],"names":["Person","person","index","number","id","removePerson","key","onClick","Filter","search","handleNameFilter","value","onChange","PersonForm","props","onSubmit","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","delete","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setSearch","setMessage","useEffect","Communication","initialPersons","window","confirm","filter","p","namesToShow","name","toLowerCase","startsWith","event","target","preventDefault","personObject","length","createdPerson","concat","setTimeout","catch","error","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.247f5f13.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({person,index,number,id,removePerson}) =>{\r\n    return(\r\n        <li key= {index}>\r\n            {person} {number} <button onClick= {() => removePerson(id,person)} >delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person;","import React from \"react\";\r\n\r\nconst Filter = ({search, handleNameFilter}) => {\r\n    return(\r\n        <div>\r\n            filter shown with <input value={search} onChange={handleNameFilter}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst PersonForm = (props) =>{\r\n    return(\r\n    <form  onSubmit= {props.addNewPerson}>\r\n        <div>\r\n            name:\r\n            <input\r\n                value={props.newName}\r\n                onChange={props.handleNameChange}\r\n            />\r\n        </div>\r\n    <div>\r\n        number:\r\n        <input\r\n            value={props.newNumber}\r\n            onChange={props.handleNumberChange}\r\n        />\r\n    </div>\r\n        <button type=\"submit\">add</button>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const remove = (id) =>{\r\n    axios.delete(`${baseUrl}/${id}`)\r\n  }\r\n\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    remove,\r\n    update\r\n}","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    else if(message === \"success\"){\r\n        return (\r\n            <div className=\"success\">\r\n                {message}\r\n            </div>\r\n            )\r\n    }\r\n\r\n    else {return (\r\n    <div className=\"error\">\r\n        {message}\r\n    </div>\r\n    )\r\n    \r\n  }\r\n}\r\n\r\n  export default Notification;","import React, { useState, useEffect } from 'react';\nimport Person from \"./Person\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Communication from \"./Communication\";\nimport Notification from \"./Notification\";\nimport \"./style.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [showAll, setShowAll] = useState(true)\n  const [search, setSearch] = useState(\"\")\n  const [message,setMessage] = useState(null)\n\n  const hook = () => {\n    Communication.getAll().then(initialPersons => setPersons(initialPersons))\n  }\n\n\n  useEffect(hook,[])\n\n  const addNewPerson = (event) =>\n  {\n    event.preventDefault()\n      const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    }\n\n    Communication.create(personObject)\n    .then(createdPerson => {\n      setPersons(persons.concat(createdPerson))\n      setNewName('')\n      setNewNumber(\"\")\n      setMessage(\"success\")\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    })\n    .catch(error => {\n      setMessage(error.response.data.error)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    })\n  }\n\n  const removePerson = (id,person) =>{\n    if(window.confirm(`Delete ${person}?`))\n    Communication.remove(id)\n    setPersons(persons.filter(p => p.id !== id))\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilter = (event) => {\n    setSearch(event.target.value)\n    setShowAll(false)\n  }\n\n  const namesToShow = showAll ? persons : persons.filter(person => person.name.toLowerCase().startsWith(search.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Filter search = {search} handleNameFilter={handleNameFilter}/>\n      <PersonForm addNewPerson={addNewPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <ul>\n        {namesToShow.map((person,index) =>\n        <Person key={index} person={person.name} number = {person.number} id= {person.id} removePerson={removePerson} />\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}